#pragma once

#include "TypeUtility.h"

#ifdef abs
#undef abs
#endif

typedef int	vBOOL;

//typedef char SByte;
//#define SByte char
#define Wchar16 unsigned short
#define Wchar32 unsigned int

typedef char Int8;
typedef unsigned short Int16;
typedef int Int32;
typedef long long Int64;

typedef unsigned char UInt8;
typedef unsigned short UInt16;
typedef unsigned int UInt32;
typedef unsigned long long UInt64;

NS_BEGIN

enum TR_ENUM(SV_EnumNoFlags = true)
	EPixelFormat
{
	PXF_UNKNOWN = 0,
		PXF_R16_FLOAT = 1,
		PXF_R16_UINT,
		PXF_R16_SINT,
		PXF_R16_UNORM,
		PXF_R16_SNORM,
		PXF_R32_UINT,
		PXF_R32_SINT,
		PXF_R32_FLOAT,
		
		PXF_R8G8B8A8_TYPELESS,
		PXF_R8G8B8A8_SINT,
		PXF_R8G8B8A8_UINT,
		PXF_R8G8B8A8_UNORM,
		PXF_R8G8B8A8_SNORM,
		PXF_R8G8B8A8_UNORM_SRGB,
		
		PXF_B8G8R8A8_TYPELESS,
		PXF_B8G8R8A8_UNORM,
		PXF_B8G8R8A8_UNORM_SRGB,
		PXF_B8G8R8A8_SNORM,
		PXF_B8G8R8A8_UINT,
		PXF_B8G8R8A8_SINT,

		PXF_B8G8R8X8_TYPELESS,
		PXF_B8G8R8X8_UNORM,
		PXF_B8G8R8X8_UNORM_SRGB,

		PXF_R16G16_UINT,
		PXF_R16G16_SINT,
		PXF_R16G16_FLOAT,
		PXF_R16G16_UNORM,
		PXF_R16G16_SNORM,
		PXF_R16G16B16A16_UINT,
		PXF_R16G16B16A16_SINT,
		PXF_R16G16B16A16_FLOAT,
		PXF_R16G16B16A16_UNORM,
		PXF_R16G16B16A16_SNORM,
		PXF_R32G32B32A32_UINT,
		PXF_R32G32B32A32_SINT,
		PXF_R32G32B32A32_FLOAT,
		PXF_R32G32B32_UINT,
		PXF_R32G32B32_SINT,
		PXF_R32G32B32_FLOAT,
		PXF_R32G32_UINT,
		PXF_R32G32_SINT,
		PXF_R32G32_FLOAT,
		PXF_D24_UNORM_S8_UINT,
		PXF_D32_FLOAT,
		PXF_D32_FLOAT_S8X24_UINT,
		PXF_D16_UNORM,
		PXF_R11G11B10_FLOAT,
		PXF_R8G8_UNORM,
		PXF_R8_UNORM,
		PXF_R32_TYPELESS,
		PXF_R32G32B32A32_TYPELESS,
		PXF_R32G32B32_TYPELESS,
		PXF_R16G16B16A16_TYPELESS,
		PXF_R32G32_TYPELESS,
		PXF_R32G8X24_TYPELESS,
		
		PXF_R10G10B10A2_TYPELESS,
		PXF_R10G10B10A2_UNORM,
		PXF_R10G10B10A2_SNORM,
		PXF_R10G10B10A2_UINT,
		PXF_R10G10B10A2_SINT,
		PXF_R10G10B10A2_UNORM_SRGB,
		
		PXF_B10G10R10A2_TYPELESS,
		PXF_B10G10R10A2_UNORM,
		PXF_B10G10R10A2_SNORM,
		PXF_B10G10R10A2_UINT,
		PXF_B10G10R10A2_SINT,
		PXF_B10G10R10A2_UNORM_SRGB,
		
		PXF_R16G16_TYPELESS,
		PXF_R24G8_TYPELESS,
		PXF_R24_UNORM_X8_TYPELESS,
		PXF_X24_TYPELESS_G8_UINT,
		PXF_R8G8_TYPELESS,
		PXF_R8G8_UINT,
		PXF_R8G8_SNORM,
		PXF_R8G8_SINT,
		PXF_R16_TYPELESS,
		PXF_R8_TYPELESS,
		PXF_R8_UINT,
		PXF_R8_SNORM,
		PXF_R8_SINT,
		PXF_A8_UNORM,
		PXF_B5G6R5_UNORM,
		PXF_B4G4R4A4_UNORM,
};

inline unsigned int GetPixelByteWidth(EPixelFormat fmt)
{
	switch (fmt)
	{
	case PXF_R16_FLOAT:
		return 2;
	case PXF_R16_UINT:
		return 2;
	case PXF_R16_SINT:
		return 2;
	case PXF_R16_UNORM:
		return 2;
	case PXF_R16_SNORM:
		return 2;
	case PXF_R32_UINT:
		return 4;
	case PXF_R32_SINT:
		return 4;
	case PXF_R32_FLOAT:
		return 4;
	case PXF_R8G8B8A8_SINT:
	case PXF_R8G8B8A8_UINT:
	case PXF_R8G8B8A8_UNORM:
	case PXF_R8G8B8A8_SNORM:
	case PXF_R8G8B8A8_TYPELESS:
	case PXF_R8G8B8A8_UNORM_SRGB:
		return 4;
	case PXF_B8G8R8A8_UNORM:
	case PXF_B8G8R8A8_TYPELESS:
	case PXF_B8G8R8A8_UNORM_SRGB:
		return 4;
	case PXF_R16G16_UINT:
		return 4;
	case PXF_R16G16_SINT:
		return 4;
	case PXF_R16G16_FLOAT:
		return 4;
	case PXF_R16G16_UNORM:
		return 4;
	case PXF_R16G16_SNORM:
		return 4;
	case PXF_R16G16B16A16_UINT:
		return 8;
	case PXF_R16G16B16A16_SINT:
		return 8;
	case PXF_R16G16B16A16_FLOAT:
		return 8;
	case PXF_R16G16B16A16_UNORM:
		return 8;
	case PXF_R16G16B16A16_SNORM:
		return 8;
	case PXF_R32G32B32A32_UINT:
		return 16;
	case PXF_R32G32B32A32_SINT:
		return 16;
	case PXF_R32G32B32A32_FLOAT:
		return 16;
	case PXF_R32G32B32_UINT:
		return 12;
	case PXF_R32G32B32_SINT:
		return 12;
	case PXF_R32G32B32_FLOAT:
		return 12;
	case PXF_R32G32_UINT:
		return 8;
	case PXF_R32G32_SINT:
		return 8;
	case PXF_R32G32_FLOAT:
		return 8;
	case PXF_D24_UNORM_S8_UINT:
		return 4;
	case PXF_D32_FLOAT:
		return 4;
	case PXF_D32_FLOAT_S8X24_UINT:
		return 8;
	case PXF_D16_UNORM:
		return 2;
	default:
		return 0;
	}
}

NS_END